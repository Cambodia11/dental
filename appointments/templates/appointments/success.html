{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–∞ - DentCare</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/success.css' %}">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <a href="/" class="logo">ü¶∑ DentCare</a>
            <div class="nav-links">
                <a href="/#services">–£—Å–ª—É–≥–∏</a>
                <a href="/#doctors">–í—Ä–∞—á–∏</a>
                <a href="/#about">–û –Ω–∞—Å</a>
                <a href="/#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            </div>
        </div>
    </nav>

    <div class="success-container">
        <!-- Success Animation -->
        <div class="success-animation">
            <div class="checkmark-circle">
                <div class="checkmark">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                        <circle cx="30" cy="30" r="28" stroke="#27ae60" stroke-width="4" fill="none" class="circle-animate"/>
                        <path d="M16 30L26 40L44 22" stroke="#27ae60" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" class="checkmark-animate"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <section class="success-content fade-in-up">
            <div class="success-header">
                <h1>–û—Ç–ª–∏—á–Ω–æ, {{ first_name }}! üéâ</h1>
                <p class="success-subtitle">–í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞</p>
            </div>

            <!-- Appointment Details Card -->
            <div class="appointment-details-card fade-in-up delay-1">
                <div class="card-header">
                    <h2>
                        <span class="card-icon">üìã</span>
                        –î–µ—Ç–∞–ª–∏ –≤–∞—à–µ–π –∑–∞–ø–∏—Å–∏
                    </h2>
                </div>
                
                <div class="appointment-info">
                    <div class="info-row">
                        <div class="info-item">
                            <div class="info-icon">üë®‚Äç‚öïÔ∏è</div>
                            <div class="info-content">
                                <label>–í—Ä–∞—á</label>
                                <strong>{{ doctor }}</strong>
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-row">
                        <div class="info-item">
                            <div class="info-icon">üìÖ</div>
                            <div class="info-content">
                                <label>–î–∞—Ç–∞</label>
                                <strong>{{ date|date:"d F Y" }}</strong>
                            </div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-icon">‚è∞</div>
                            <div class="info-content">
                                <label>–í—Ä–µ–º—è</label>
                                <strong>{{ time }}</strong>
                            </div>
                        </div>
                    </div>

                    {% if service %}
                    <div class="info-row">
                        <div class="info-item">
                            <div class="info-icon">ü¶∑</div>
                            <div class="info-content">
                                <label>–£—Å–ª—É–≥–∞</label>
                                <strong>{{ service }}</strong>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>

                <div class="appointment-status">
                    <div class="status-badge pending">
                        <span class="status-icon">‚è≥</span>
                        <span>–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</span>
                    </div>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="next-steps fade-in-up delay-2">
                <h3>
                    <span class="steps-icon">üìû</span>
                    –ß—Ç–æ –¥–∞–ª—å—à–µ?
                </h3>
                <div class="steps-list">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏</h4>
                            <p>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ <strong>15 –º–∏–Ω—É—Ç</strong> –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏–µ–º–∞</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤–∏–∑–∏—Ç—É</h4>
                            <p>–í–æ–∑—å–º–∏—Ç–µ —Å —Å–æ–±–æ–π –ø–∞—Å–ø–æ—Ä—Ç –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–Ω–∏–º–∫–∏ –∑—É–±–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>–ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –∑–∞ 10 –º–∏–Ω—É—Ç</h4>
                            <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø—Ä–∏–π—Ç–∏ –∑–∞—Ä–∞–Ω–µ–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-reminder fade-in-up delay-3">
                <div class="contact-card">
                    <h4>
                        <span class="contact-icon">üìç</span>
                        –ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏
                    </h4>
                    <div class="contact-details">
                        <p><strong>–ê–¥—Ä–µ—Å:</strong> –≥. –ö–∏–µ–≤, —É–ª. –®–µ–≤—á–µ–Ω–∫–∞, –¥. 15</p>
                        <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <a href="tel:+74951234567">+38 (063) 040-96-70<</a></p>
                        <p><strong>–ú–µ—Ç—Ä–æ:</strong> –ú–∞–π–¥–∞–Ω</p>
                    </div>
                </div>
                
                <div class="emergency-contact">
                    <p class="emergency-text">
                        <span class="emergency-icon">üö®</span>
                        –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∞ –Ω–µ–æ—Ç–ª–æ–∂–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, –∑–≤–æ–Ω–∏—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É 
                        <a href="tel:+74951234567" class="emergency-phone">+38 (063) 040-96-70</a>
                    </p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons fade-in-up delay-4">
                <a href="{% url 'home' %}" class="btn btn-primary">
                    <span class="btn-icon">üè†</span>
                    –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                </a>

                <a href="{% url 'book_appointment' %}" class="btn btn-secondary">
                    <span class="btn-icon">üìÖ</span>
                    –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –µ—â–µ
                </a>

            </div>

            <!-- Additional Information -->
            <div class="additional-info fade-in-up delay-5">
                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-card-icon">üéÅ</div>
                        <h4>–ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç</h4>
                        <p>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ <strong>–±–µ—Å–ø–ª–∞—Ç–Ω–æ</strong> –¥–ª—è –Ω–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-card-icon">üèÜ</div>
                        <h4>–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞</h4>
                        <p>–í—Å–µ —Ä–∞–±–æ—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –æ—Ç 1 –≥–æ–¥–∞ –¥–æ –ø–æ–∂–∏–∑–Ω–µ–Ω–Ω–æ–π</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-card-icon">üí≥</div>
                        <h4>–£–¥–æ–±–Ω–∞—è –æ–ø–ª–∞—Ç–∞</h4>
                        <p>–ü—Ä–∏–Ω–∏–º–∞–µ–º –Ω–∞–ª–∏—á–Ω—ã–µ, –∫–∞—Ä—Ç—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º —Ä–∞—Å—Å—Ä–æ—á–∫—É</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Trigger success animation
            setTimeout(() => {
                document.querySelector('.success-animation').classList.add('animate');
            }, 300);

            // Add floating animation to cards
            const cards = document.querySelectorAll('.appointment-details-card, .next-steps, .contact-reminder');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${0.2 + index * 0.1}s`;
                card.classList.add('float-animation');
            });

            // Add click effect to buttons
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const ripple = document.createElement('div');
                    ripple.classList.add('ripple-effect');
                    
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });

            // Show confirmation in browser notification (if supported)
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification('DentCare - –ó–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!', {
                    body: '–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞. –û–∂–∏–¥–∞–π—Ç–µ –∑–≤–æ–Ω–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.',
                    icon: '/static/images/favicon.ico'
                });
            }

            // Auto-refresh page after 30 minutes (session timeout)
            setTimeout(() => {
                if (confirm('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–∞–µ—Ç. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É?')) {
                    location.reload();
                }
            }, 30 * 60 * 1000);
        });
    </script>
</body>
</html>